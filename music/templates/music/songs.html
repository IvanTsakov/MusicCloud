
{% extends 'music/base.html' %}
{% block title %}Songs{% endblock %}
{% block songs_active %}active{% endblock %}


{% block body %}
<div class="container-fluid songs-container">
	<div class="row">
        <div class="panel panel-default">
            <div class="panel-body">

                <h3>All Songs</h3>
                <a href= "{% url 'music:favorite_songs'%}"><h5><span class="glyphicon glyphicon-music">Favorite</span></h5></a>
                {% if error_message %}
                    <p><strong>{{ error_message }}</strong></p>
                {% endif %}

                <table class="table">
                    <thead>
                    <tr>
                        <th>Title</th>
                        <th>Audio File</th>
                        <th>Favorite</th>
                        <th>Actions</th>
                        <th>Album</th>
                        <th>Edit Song</th>
                    </tr>
                    </thead>
                    <tbody>
	                    {% for song in songs %}
	                        <tr>
	                            <td>
                                    <a target="_blank" href="{% url 'music:song_view' song.id %}">
                                        {{ song.song_title }}
                                    </a>
                                </td>
	                            <td>
	                                <a target="_blank" href="#">
	                                    <button type="button" class="btn btn-success btn-xs">
	                                        <span class="glyphicon glyphicon-play"></span>&nbsp; Play
	                                    </button>
	                                </a>
	                            </td>
	                            <td>
	                               {%if song.is_favorite %}
                                        <a href="{% url 'music:favorite_in_songs' song.id%}"  class="btn btn-default btn-sm btn-favorite" role="button">
                                        <span class="glyphicon glyphicon-star favorite" action=""></span></a>
                                    {%else%}
                                         <a href="{% url 'music:favorite_in_songs' song.id %}"  class="btn btn-default btn-sm btn-favorite" role="button">
                                        <span class="glyphicon glyphicon-star" action=""></span></a>
                                    {%endif%}
	                            </td>
	                            <td>
	                                <form action="{% url 'music:song-delete-in-songs' song.id%}" method="post" 
                                                                                        style="display: inline;">
                                        {% csrf_token %}
                                        <input type="hidden" name="song_id" value="{{ song.id }}" />
                                        <button type="submit" class="btn btn-danger btn-xs" onclick="return confirm('Are you sure you want to delete this?')">
                                            <span class="glyphicon glyphicon-remove" ></span>&nbsp; Delete
                                        </button>
                                    </form>
	                            </td>
	                            <td>
	                            	<a href="{% url 'music:detail' song.album.id %}">{{ song.album }}</a>
	                        	</td>
	                        	<td>
	                        		<a href="{% url 'music:song-update' song.id%}">
	                        			<span class="glyphicon glyphicon-edit">Edit</span>
	                        		</a>
	                        	</td>
	                        </tr>
	                    {% endfor %}
                	</tbody>
           		</table>
        	</div>
        </div>	
	</div>
</div>
{% endblock %}
